{"version":3,"file":"js/login.5fa57ce7.js","mappings":"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","sources":["webpack://vue-project/./src/views/LoginPageView.vue","webpack://vue-project/./src/components/ErrorComponent.vue","webpack://vue-project/./src/components/ErrorComponent.vue?8a89","webpack://vue-project/./src/views/LoginPageView.vue?73c6"],"sourcesContent":["<template>\t\r\n\t<error-component v-if=\"hasError\" />\r\n    <master-page-view v-else>\r\n\r\n        <template  #main>\r\n            <div class=\"login__container\">\r\n            \t<div class=\"login-page\">\r\n\t                <h2 class=\"login-page__title title title_small\">{{ $t('loginPage.title') }}</h2>\r\n\t                <div class=\"login-page__body\">\r\n\t                    <v-form v-model=\"valid\" class=\"form\">\r\n\t                        <v-text-field\r\n\t                            v-model=\"user.email\"\r\n\t                            :rules=\"emailRules\"\r\n\t\t\t\t\t\t\t\t\t\t :label=\"$t('loginPage.email')\"\r\n\t                            type=\"email\"\r\n\t                            :append-icon=\"countRanks\"\r\n\t                            variant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t \r\n\t                            clearable\r\n\t                            hide-details=\"auto\"\r\n\t                            required\r\n\t                            class=\"mb-4 input\"\r\n\t                        />\r\n\t                        <v-text-field\r\n\t                            v-model=\"user.password\"\r\n\t                            :rules=\"passwordRules\"\r\n\t\t\t\t\t\t\t\t\t\t :label=\"$t('loginPage.password')\" \r\n\t                            variant=\"outlined\"\r\n\t                            :append-icon=\"countRanks2\"\r\n\t                            :type=\"show ? 'text' : 'password'\"\r\n\t                            :hint=\"\r\n\t                                isEngLanguage\r\n\t                                    ? 'Enter your password (minimum 6 characters)'\r\n\t                                    : 'Введіть пароль (мін. 6 символів)'\r\n\t                            \"\r\n\t                            clearable\r\n\t                            hide-details=\"auto\"\r\n\t                            required\r\n\t                            class=\"mb-4 input\"\r\n\t                            @click:append=\"show = !show\"\r\n\t                        ></v-text-field>\r\n\t                        <div class=\"form__action action\">\r\n\t                        \t<v-btn variant=\"outlined\" class=\"action__button\" :disabled=\"!isValueValid\" @click=\"registerWithEmailAndPassword(user)\">\r\n\t\t                            {{ $t('loginPage.button') }} </v-btn\r\n\t\t                        ><v-btn variant=\"outlined\" class=\"action__button\" :disabled=\"!isValueValid\" @click=\"loginWithEmailAndPassword(user)\">\r\n\t\t                            {{ $t('loginPage.buttonSignIn') }}\r\n\t\t                        </v-btn>\r\n\t                        </div>\r\n\t                        <v-btn variant=\"outlined\" class=\"form-button-google\" @click=\"onLoginWithGoogle\">\r\n\t                            <font-awesome-icon :icon=\"['fab', 'google']\" /><span> {{ $t('loginPage.google') }}</span>\r\n\t                        </v-btn>\r\n\t                    </v-form>\r\n\t                </div>\r\n\t            </div>\r\n            </div>\r\n        </template>\r\n    </master-page-view>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters, mapActions } from 'vuex'\r\nimport MasterPageView from '@/masterpage/MasterPageView.vue'\r\nimport ErrorComponent from '@/components/ErrorComponent.vue';\r\nexport default {\r\n    name: 'LoginPageView',\r\n\r\n    components: {\r\n        MasterPageView,ErrorComponent\r\n    },\r\n    data() {\r\n        return {\r\n            valid: false,\r\n            show: false,\r\n            user: {\r\n                email: null,\r\n                password: null,\r\n            },\r\n            emailRules: [\r\n                (value) => {\r\n                    if (value) return true\r\n                    return this.isEngLanguage ? 'E-mail is requred.' : \"Обов'язкове поле\"\r\n                },\r\n                (value) => {\r\n                    if (/.+@.+\\..+/.test(value)) return true\r\n                    return this.isEngLanguage ? 'E-mail must be valid.' : 'Невірний формат електронної пошти'\r\n                },\r\n            ],\r\n\r\n            passwordRules: [\r\n                (value) => {\r\n                    if (value) return true\r\n                    return this.isEngLanguage ? 'Password is required.' : \"Обов'язкове поле\"\r\n                },\r\n                (value) => {\r\n                    if (value?.length >= 6) return true\r\n                    return this.isEngLanguage\r\n                        ? 'Password must be 6 characters at least.'\r\n                        : 'Пароль повинен складатися з мінім. 6 символів '\r\n                },\r\n            ],\r\n\t\t\t\t\r\n        }\r\n    },\r\n    computed: {\r\n\t\t...mapGetters(['hasError']),\r\n        ...mapGetters('auth', ['getUser']),\r\n\t\t  countRanks() {\r\n\t\t\t const screenWidth = window.screen.width\r\n\t\t\t if(screenWidth < 506){\r\n\t\t\t\treturn false\r\n\t\t\t }\r\n\t\t\t return 'mdi-email'\r\n\t\t  },\r\n\t\t   countRanks2() {\r\n\t\t\t const screenWidth = window.screen.width\r\n\t\t\t if(screenWidth < 506){\r\n\t\t\t\treturn false\r\n\t\t\t }\r\n\t\t\t return this.show ? 'mdi-eye-outline' : 'mdi-eye-off'\r\n\t\t  },\r\n        isEngLanguage() {\r\n            return this.$i18n.locale == 'en' ? true : false\r\n        },\r\n        errorMsg1() {\r\n            return this.$i18n.locale == 'en'\r\n                ? 'User is already registered - please, login'\r\n                : 'Користувач вже зареєстрований - будь ласка, увійдіть'\r\n        },\r\n        errorMsg2() {\r\n            return this.$i18n.locale == 'en'\r\n                ? 'User not found - please, register (sign up)'\r\n                : 'Користувач не знайдений - будь ласка, зареєструйтесь'\r\n        },\r\n        isValueValid() {\r\n            return /.+@.+\\..+/.test(this.user.email) && /\\d{6}/.test(this.user.password)\r\n        },\r\n\t\t  \r\n    },\r\n\t watch:{\r\n\t\thasError(newVal){\r\n\t\t\tif(newVal){\r\n\t\t\t\tthis.modalActive = true;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t },\r\n    created() {\r\n        this.loadList;\r\n\r\n\t\t  console.log(this.countRanks);\r\n    },\r\n\t \r\n\t beforeUnmount() {\r\n\t\t\tthis.setError(null);\r\n\t\t},\r\n\r\n    methods: {\r\n        ...mapActions('auth', [\r\n            'loginWithGoogle',\r\n            'signUpWithWithEmailAndPassword',\r\n            'signInWithWithEmailAndPassword',\r\n            'getAuthData',\r\n        ]),\r\n        ...mapActions('users',['setError']),\r\n\t\t  toggleModal(){\r\n\t\t\t\tthis.modalActive = !this.modalActive;\r\n\t\t\t},\r\n        async onLoginWithGoogle() {\r\n            try {\r\n                await this.loginWithGoogle()\r\n                this.$router.push({\r\n                    name: 'dishes',\r\n                })\r\n            } catch (error) {\r\n                this.setError(error)\r\n            }\r\n        },\r\n        async registerWithEmailAndPassword(user) {\r\n            const { email, password } = user\r\n            try {\r\n                await this.signUpWithWithEmailAndPassword({ email, password })\r\n                this.$router.push({\r\n                    name: 'dishes',\r\n                })\r\n            } catch (error) {\r\n                if (error == 'Firebase: Error (auth/email-already-in-use).') {\r\n                    this.setError(this.errorMsg1);\r\n                }\r\n            }\r\n        },\r\n\r\n        async loginWithEmailAndPassword(user) {\r\n            const { email, password } = user\r\n            try {\r\n                await this.signInWithWithEmailAndPassword({ email, password })\r\n                this.$router.go(-1)\r\n            } catch (error) {\r\n                if (error.message == 'Firebase: Error (auth/invalid-credential).') {\r\n                    this.setError(this.errorMsg2)\r\n\t\t\t\t\t\t\r\n                }\r\n            }\r\n        },\r\n    },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\r\n</style>\r\n","<template>\r\n\t<div class=\"error-container\">\r\n\t\t\t<div class=\"error__content\">\r\n\t\t\t\t<h3 >{{ $t('error.title') }}...</h3>\r\n\t\t\t\t<font-awesome-icon :icon=\"['fas', 'triangle-exclamation']\" size=\"2x\"/>\r\n\t\t\t\t<h2>{{ hasError }}</h2>\r\n\t\t\t</div>\r\n\t\t\t<button type=\"button\" class=\"button\" @click=\"onBack\">Повернутись</button>\r\n\t\t</div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters } from 'vuex';\r\n\r\n\r\n\texport default {\r\n\t\tname:'ErrorComponent',\r\n\t\tcomputed: {\r\n\t\t\t...mapGetters('users',['hasError']),\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tonBack() {\r\n\t\t\t\tthis.$router.go(0)\r\n\t\t\t}\r\n\t\t},\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\r\n</style>","import { render } from \"./ErrorComponent.vue?vue&type=template&id=4072efb9\"\nimport script from \"./ErrorComponent.vue?vue&type=script&lang=js\"\nexport * from \"./ErrorComponent.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./LoginPageView.vue?vue&type=template&id=6600810a\"\nimport script from \"./LoginPageView.vue?vue&type=script&lang=js\"\nexport * from \"./LoginPageView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_ctx","hasError","_createBlock","_component_error_component","key","_component_master_page_view","main","_withCtx","_createElementVNode","_hoisted_1","_hoisted_2","_hoisted_3","_toDisplayString","$t","_hoisted_4","_createVNode","_component_v_form","modelValue","$data","valid","_cache","$event","default","_component_v_text_field","user","email","rules","emailRules","label","type","$options","countRanks","variant","clearable","required","password","passwordRules","countRanks2","show","hint","isEngLanguage","_hoisted_5","_component_v_btn","disabled","isValueValid","onClick","registerWithEmailAndPassword","_createTextVNode","_","loginWithEmailAndPassword","onLoginWithGoogle","_component_font_awesome_icon","icon","_createElementBlock","size","args","onBack","name","computed","mapGetters","methods","this","$router","go","__exports__","components","MasterPageView","ErrorComponent","data","value","test","length","screenWidth","window","screen","width","$i18n","locale","errorMsg1","errorMsg2","watch","newVal","modalActive","created","loadList","console","log","beforeUnmount","setError","mapActions","toggleModal","loginWithGoogle","push","error","signUpWithWithEmailAndPassword","signInWithWithEmailAndPassword","message","render"],"sourceRoot":""}